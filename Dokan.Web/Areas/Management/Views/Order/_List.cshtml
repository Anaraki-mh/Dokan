
@model List<Dokan.Web.Areas.Management.Models.OrderModel>

<table class="table table-responsive-sm table-hover text-center">
    <thead>
        <tr>
            <th>Index</th>
            <th>Last Name</th>
            <th>State</th>
            <th>Total</th>
            <th>Payment Id</th>
            <th>Order Status</th>
            <th>Create Date (UTC)</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>

        @foreach (var item in Model)
        {
            <tr>
                <td>@item.Index</td>
                <td>@item.LastName</td>
                <td>@item.State</td>
                <td>$@item.OrderItems.Sum(x => x.Total)</td>
                <td>$@item.TrackingCode</td>
                <td>
                    @switch (item.OrderState)
                    {
                        case Dokan.Domain.Enums.OrderState.Completed:
                            <label class="badge badge-gradient-success">COMPLETED</label>
                            break;
                        case Dokan.Domain.Enums.OrderState.Pending:
                            <label class="badge badge-gradient-light">PENDING</label>
                            break;
                        case Dokan.Domain.Enums.OrderState.Placed:
                            <label class="badge badge-gradient-warning">PLACED</label>
                            break;
                        case Dokan.Domain.Enums.OrderState.Processing:
                            <label class="badge badge-gradient-info">PROCESSING</label>
                            break;
                        case Dokan.Domain.Enums.OrderState.Canceled:
                            <label class="badge badge-gradient-danger">CANCELED</label>
                            break;
                        default:
                            <label class="badge badge-gradient-danger">UNDEFINED</label>
                            break;
                    }
                </td>
                <td>@item.CreateDateTime</td>

                <td>
                    <button class="btn btn-icon btn-gradient-info" title="Details" onclick="Details(@item.Id)"><i class="mdi mdi-eye"></i></button>
                </td>
            </tr>
        }

    </tbody>
</table>



<nav aria-label="Page navigation">
    <ul class="pagination justify-content-center">


        @if (ViewBag.ActivePage != 1)
        {
            <li id="leftArrow" class="page-item">
                <button onclick="RefreshList(@(ViewBag.ActivePage - 1))" class="page-link"><i class="mdi mdi-arrow-left"></i></button>
            </li>

            <li class="page-item"><button onclick="RefreshList(1)" class="page-link">1</button></li>
            <li class="page-item disabled"><button class="page-link">...</button></li>
        }

        <li class="page-item active"><button onclick="" class="page-link">@ViewBag.ActivePage</button></li>

        @if (ViewBag.ActivePage < ViewBag.NumberOfPages)
        {

            <li class="page-item disabled"><button class="page-link">...</button></li>
            <li class="page-item"><button onclick="RefreshList(@ViewBag.NumberOfPages)" class="page-link">@(ViewBag.NumberOfPages)</button></li>

            <li id="rightArrow" class="page-item">
                <button onclick="RefreshList(@(ViewBag.ActivePage + 1))" class="page-link"><i class="mdi mdi-arrow-right"></i></button>
            </li>
        }


    </ul>
</nav>

<input id="activePage" type="text" hidden value="@ViewBag.ActivePage" />
<input id="numberOfPages" type="hidden" value="@ViewBag.NumberOfPages" />
